# Global configuration
global:
  appName: my-app
  environment: production

# Image configurations
images:
  busybox:
    repository: busybox
    tag: latest
    pullPolicy: IfNotPresent
  nginx:
    repository: nginx
    tag: 1.25-alpine
    pullPolicy: IfNotPresent

# Deployment configuration
deployment:
  replicas: 2
  updateStrategy:
    type: RollingUpdate
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 0
  labels:
    app: my-app
    component: web
    environment: production

# Container resources
resources:
  busybox:
    requests:
      memory: "32Mi"
      cpu: "10m"
    limits:
      memory: "64Mi"
      cpu: "50m"
  nginx:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "500m"

# Probes configuration
probes:
  liveness:
    path: /
    initialDelaySeconds: 30
    periodSeconds: 15
    timeoutSeconds: 5
    failureThreshold: 3
  readiness:
    path: /
    initialDelaySeconds: 5
    periodSeconds: 10
    timeoutSeconds: 3
    failureThreshold: 1

# Service configuration
service:
  type: ClusterIP
  port: 80
  targetPort: http
  name: http

# Network Policy configuration
networkPolicy:
  enabled: true
  allowedIPs:
    - 88.196.208.91/32

# Autoscaling configuration
autoscaling:
  enabled: true
  minReplicas: 2
  maxReplicas: 5
  targetCPUUtilization: 70
  targetMemoryUtilization: 80

# Security context
securityContext:
  runAsNonRoot: true
  runAsUser: 101
  readOnlyRootFilesystem: true
  allowPrivilegeEscalation: false

# HTML content
htmlContent: |
  <!DOCTYPE html>
  <html>
  <head>
      <title>Hello World - Production</title>
      <style>
          body { 
              font-family: Arial, sans-serif; 
              text-align: center; 
              padding: 50px; 
              background-color: #f5f5f5;
          }
          .container { 
              background: white; 
              padding: 40px; 
              border-radius: 10px; 
              box-shadow: 0 2px 10px rgba(0,0,0,0.1);
              max-width: 600px;
              margin: 0 auto;
          }
          h1 { color: #2c3e50; }
          .status { 
              color: #27ae60; 
              font-weight: bold;
              margin-top: 20px;
          }
      </style>
  </head>
  <body>
      <div class="container">
          <h1>ðŸš€ Hello from Production K8s!</h1>
          <p>Deployed via Helm Chart: {{ .Chart.Name }} v{{ .Chart.Version }}</p>
          <p>Environment: {{ .Values.global.environment }}</p>
          <p>Access restricted to authorized IP addresses only.</p>
          <div class="status">âœ“ Application Status: Healthy</div>
      </div>
  </body>
  </html>